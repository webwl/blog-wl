# whistle 代理
通常用于定位线上问题，把浏览器当做一个路由分发（理解为 nginx），把需要调试的服务转发到本地，达到调试线上代码的目的

## Proxy Switchyomega
首先,需要安装 chrome 插件Proxy Switchyomega

## 配置whistle
```
npm install -g whistle

w2 start
```
这时候可以进入 http://127.0.0.1:8899 查看(默认是这个端口，但是具体还是要看插件中proxy的配置)

可以在rules中配置要代理的内容,推荐按环境划分区域，然后针对不同的项目配置代理规则
```
// 代理到某个后端的本地

/(?:https|http):\/\/dev\-xxx\./((xxxx)\/.*)/  http://0.0.0.0:8080/$1
```

## 代理https
[官方文档](https://wproxy.org/whistle/webui/https.html)

由于本地服务的证书并没有受到浏览器的信任，需要手动去浏览器中配置。在谷歌浏览器中输入chrome://flags/#allow-insecure-localhost， 将“Allow invalid certificates for resources loaded from localhost”设置为Enabled，之后重启浏览器。

# 参考资料
[whistle中文文档](https://wproxy.org/whistle/webui/https.html)